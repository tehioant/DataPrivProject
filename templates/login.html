<!DOCTYPE html>
<html lang="en" dir="ltr">
    
    <head>
        <meta charset="utf-8">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
        <!-- Bootstrap core CSS -->
        <link href="../static/MDB/css/bootstrap.min.css" rel="stylesheet">
        <!-- Material Design Bootstrap -->
        <link href="../static/MDB/css/mdb.min.css" rel="stylesheet">
        <link href="../static/MDB/css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="../static/css/login.css">
        <title>Auction Security Project</title>
                
    </head>
    
    <body onload=loadPage()>
        <header>
            <!--Navbar-->
            <nav class="navbar navbar-expand-lg navbar-dark">
                
                <!-- Navbar brand -->
                <a class="navbar-brand" href="#">Auction Security Project</a>
                
                <!-- Collapse button -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
                    aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <!-- Collapsible content -->
                <div class="collapse navbar-collapse" id="basicExampleNav">
                    
                    <!-- Links -->
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">

                         <!-- Form dropdown -->
                            <button class="btn btn-outline-white waves-effect" id="" type="button" data-toggle="dropdown"
                                >Create account</button>
                            <!-- aria-haspopup="true" aria-expanded="false" -->
                            <div class="dropdown-menu" id="biddropdown" role="menu">
                                <div class="card" id="bidCard">

                                    <h5 class="card-header info-color white-text text-center py-4">
                                        <button type="button ml-auto" class="close" aria-label="Close">
                                            <span aria-hidden="true">Ã—</span>
                                        </button>
                                        <strong>Create your account</strong>
                                    </h5>

                                    <!--Card content-->
                                    <div class="card-body px-lg-5 pt-0">

                                        <!-- Form -->
                                        <form  action="/create_account/" method="post" id="create_account">
                                            <br>
                                            <input type="text" id="username" name="username" class="form-control mb-4" placeholder="Username" required>
                                            <input type="password" id="password" name="password" class="form-control mb-4" placeholder="Password" required>

                                            <br>
                                            <!-- Sign up button -->
                                            <p><input type = "submit" value = "submit" class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0"/></p>
                                        </form>
                                        <!-- Form -->
                                    </div>
                                </div>
                                <!-- Material form register -->
                            </div>
                            <!-- Form dropdown -->
                        </li>
                    </ul>
                </div>
                <!-- Collapsible content -->
                
            </nav>
            <!--/.Navbar-->
        </header>
        
        <main>
            <div class='container login'>
                {% if error %}
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <h4 class="alert-heading">Error</h4>
                        <p> You entered a wrong username or password. {{ error }}</p>
                        <hr>
                        <p class="mb-0">If you do not have an account, you can create on <a href="#" class="alert-link">here</a>.</p>
                    </div>
                {% endif %}

                {% with messages = get_flashed_messages() %}
                   {% if messages %}
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <h4 class="alert-heading">Congratulation</h4>
                            <p> {% for message in messages %} <li>{{ message }}</li> {% endfor %}</p>
                            <hr>
                            <p class="mb-0">You can now log into your account.</a>.</p>
                        </div>
                   {% endif %}
                {% endwith %}
                
                <div class="starter-template">
                    <h1>Private auction protocol for online transactions</h1>
                </div>
                <div class="connexion" id="connect" >
                    <div class="input">
                        <form id="getTournForm" action="/verify_login/" method="post">
                            <h6>User : </h6><input id="usern" type="text" name="username" /><br><br>
                            <h6>Password : </h6><input id="mdp" type="password" name="password"/><br><br>


                            <input type="submit"  id="buttonco" ><!--onclick="encrypt();"--> <font color="white" /><h6>Connexion</h6></input>
                        </form>
                    </div>
                </div><br>
          </div>
        </main>

                            <script type="text/javascript" >
                                function encrypt(){
                                    var a = document.getElementById("usern");
                                    var b = document.getElementById("mdp");
                                     var hash = sha256.create();
                                     hash.update(a.value);
                                     hash.hex();
                                     a.value = hash.hex();
                                     hash.update(b.value);
                                     hash.hex();
                                     b.value = hash.hex();
                                 }
                            </script>

    </body>
    
    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.js"></script>
    <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>

    <script type="text/javascript" src="../static/MDB/js/jquery-3.3.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="../static/MDB/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="../static/MDB/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../static/MDB/js/mdb.min.js"></script>

</html>
